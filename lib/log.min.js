!function(a){function c(){Object.prototype.spoof=function(){var a,b;if(this instanceof String)return this;if(this instanceof Number||this instanceof Function)return this.toString();a=this instanceof Array?"[":this instanceof Object?"{":"(";for(b in this)this[b]!=Object.prototype.spoof&&(0==this instanceof Array&&(a+=b.match(/\W/)?'"'+b.replace('"','\\"')+'":':b+":"),a+="string"==typeof this[b]?this[b].replace('"','\\"'):this[b]instanceof Function?this[b].toString():this[b]instanceof Date?this[b].toGMTString():this[b]instanceof Array||this[b]instanceof Object?this[b].spoof():this[b],a+=", ");return a=(a.length>2?a.substring(0,a.length-2):a)+(this instanceof Array?"]":this instanceof Object?"}":")")}}function d(){delete Object.prototype.spoof}function e(){var a=k(arguments);return c(),a.forEach(function(b,c){a[c]=b.spoof()}),d(),a}function g(){var a=k(arguments);return c(),a.forEach(function(c,d){"[object Object]"===b.call(c)?f(c).forEach(function(e){a[d]=e+" "+b.call(c[e])}):a[d]=c.spoof()}),d(),a}function k(a){return Array.prototype.slice.call(a)}var i,b=Object.prototype.toString,f=Object.keys,h=function(){},j=a.nativeConsole||(a.nativeConsole=a.console);["log","info","warn","error","dir"].forEach(function(a,b){h.prototype[a]=function(){j[a].apply(j,arguments),arguments="dir"!==a?e.apply(e,arguments):g.apply(g,arguments),arguments.unshift(b),this.send.apply(this,arguments)}}),h.prototype.send=function(){var a=arguments[0],b=k(arguments).slice(1),c={level:a,args:b},d=JSON.stringify(c);i.emit("LOG MESSAGE",d)},i=io.connect("http://"+location.host),a.log=new h,a.addEventListener("error",function(a){log.warn("window error: "),log.error(a.message),log.error(a.filename+" :"+a.lineno)},!1)}(window);